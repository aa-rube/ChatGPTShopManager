Запуск сервера

Настройка окружения
sudo apt update
sudo apt install openjdk-19-jdk
sudo apt-get install maven
sudo apt install redis-server

Установка проекта
git clone git@github.com:aa-rube/ChatGPTShopManager.git
cd ChatGPTShopManager
mvn clean package

Старт проекта
cd target
java -jar ChatGptManager-1.0-SNAPSHOT.jar

Настройте, например, systemctl для автоматического запуска проекта

Инструкция по выполнению запроса к API

1. Описание API:

URL: http://191.84.65.59:65001/api/chat/request
Метод: POST
Тип запроса: application/json
Назначение: API предназначено для отправки запросов в чат-бот с использованием модели GPT-4o.
Пользователь отправляет запрос с вопросом, и API возвращает ответ, сгенерированный моделью.

2. Структура запроса:

Запрос должен быть отправлен в формате JSON.
Параметры запроса:
"key": API ключ, необходимый для авторизации (строка).
"model": Название модели, которая будет использована для обработки запроса. В данном случае "gpt-4o".
"userRole": Вопрос или сообщение пользователя, на которое должен ответить чат-бот (строка).

3. Пример запроса

POST http://191.84.65.59:65001/api/chat/request
Content-Type: application/json

{
  "key": "your-open-api-key",
  "model": "gpt-4o", //not require, as default gpt-4o
  "userRole": "Какие стулья у вас есть?"
}

4. Пример ответа:
Если запрос выполнен успешно, сервер вернет JSON-объект с ответом на вопрос.

{
  "answer": "В наличии есть следующие стулья:
  \n1. Стул 'Мои мечты' - Прозрачный, стеклянный, 9000 руб.
  \n2. Стул 'Душа' - Белый, деревянный (дуб), 5000 руб.
  \n3. Стул 'Будущее' - Жёлтый, пластиковый, 3000 руб."
}

Инструкция по заполнению параметров конфигурации
Эти параметры конфигурации используются для настройки взаимодействия с API ChatGPT, Google Sheets, Redis,
 а также для настройки сервера Tomcat. Вот описание каждого параметра и рекомендации по их заполнению:

1. Конфигурация ChatGPT API
chat.gpt.api.url:
Описание: URL для доступа к ChatGPT API. Этот параметр определяет конечную точку, к которой будет отправляться запрос.
Пример значения: https://api.openai.com/v1/chat/completions
Рекомендация: Убедитесь, что URL соответствует текущей версии API.

2. Конфигурация Google Sheets
google.sheets.application.name:

Описание: Имя приложения, используемого для работы с Google Sheets API.
Пример значения: furnitureOnline
Рекомендация: Назовите приложение в соответствии с его назначением или проектом.
google.sheets.credentials.file.path:

Описание: Путь к файлу учетных данных Google, который используется для аутентификации при доступе к Google Sheets.
Пример значения: google.json (если файл в корне проекта, либо -, если используется переменная окружения).
Рекомендация: Укажите корректный путь к JSON-файлу с учетными данными Google, который был получен при регистрации приложения.
google.sheets.spreadsheet.id.catalogue:

Описание: Идентификатор таблицы Google Sheets, которая используется для хранения каталога данных.
Пример значения: 1qjGzoinSG6bCD7VO6cL8ihZvoHhIu8aEcXcgNBKRfP4
Рекомендация: Найдите этот ID в URL Google Sheets, к которому хотите получить доступ.
google.sheets.spreadsheet.catalogue.list.name:

Описание: Имя листа в Google Sheets, на котором находится каталог данных.
Пример значения: Sheet1
Рекомендация: Убедитесь, что имя листа указано точно так же, как оно отображается в таблице Google Sheets.
google.sheets.spreadsheet.catalogue.range:

Описание: Диапазон ячеек на листе, который будет использоваться.
Пример значения: A1:G
Рекомендация: Укажите диапазон, охватывающий все необходимые столбцы и строки.
google.sheets.spreadsheet.id.fq:

Описание: Идентификатор другой таблицы Google Sheets, предназначенной для хранения часто задаваемых вопросов (FAQ).
Пример значения: 1Cb39u_B-SRMrZYp7eiICD5BM1Y-ykNj_10cAfp7Y9yM
Рекомендация: Используйте актуальный ID для таблицы с FAQ.
google.sheets.spreadsheet.fq.list.name:

Описание: Имя листа в таблице Google Sheets, на котором хранятся часто задаваемые вопросы.
Пример значения: Sheet1
Рекомендация: Убедитесь, что имя листа указано правильно.
google.sheets.spreadsheet.fq.range:

Описание: Диапазон ячеек на листе, который будет использоваться для работы с FAQ.
Пример значения: A1:B
Рекомендация: Укажите диапазон, включающий все нужные вопросы и ответы.

3. Конфигурация Redis

redis.host:
Описание: Адрес хоста Redis-сервера.
Пример значения: localhost
Рекомендация: Если Redis запущен на локальной машине, оставьте localhost. В ином случае укажите IP-адрес сервера.

redis.port:
Описание: Порт, на котором работает Redis-сервер.
Пример значения: 6379
Рекомендация: Убедитесь, что порт совпадает с портом, на котором Redis действительно запущен.

redis.timeout:
Описание: Тайм-аут подключения к Redis-серверу (в миллисекундах).
Пример значения: 2000
Рекомендация: Значение 2000 мс (2 секунды) является разумным, но может быть изменено в зависимости от требований к производительности.

redis.password:
Описание: Пароль для подключения к Redis-серверу (если он установлен).
Пример значения: nopass
Рекомендация: Если у Redis установлен пароль, укажите его здесь. Если нет, оставьте nopass или пустую строку.

4. Конфигурация сервера Tomcat
server.port:
Описание: Порт, на котором запускается сервер Tomcat.
Пример значения: 65001
Рекомендация: Убедитесь, что указанный порт свободен и доступен для использования на вашем сервере.